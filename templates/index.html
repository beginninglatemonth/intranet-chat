<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>局域网信息共享</title>
    <link rel="stylesheet" href="../static/css/index.css" />
    <script src="../static/js/socket.io.js"></script>
    <script src="../static/js/socket_initialize.js"></script>
    <script src="../static/js/index.js"></script>
  </head>

  <body>
    <div class="dragtip">
      <h1>松开发送文件</h1>
    </div>

    <div class="left">
      <div class="chat-title">
        <svg height="30px" viewBox="0 -960 960 960" width="30px" fill="#CCCCCC">
          <path
            fill="currentColor"
            d="M880-80 720-240H320q-33 0-56.5-23.5T240-320v-40h440q33 0 56.5-23.5T760-440v-280h40q33 0 56.5 23.5T880-640v560ZM160-473l47-47h393v-280H160v327ZM80-280v-520q0-33 23.5-56.5T160-880h440q33 0 56.5 23.5T680-800v280q0 33-23.5 56.5T600-440H240L80-280Zm80-240v-280 280Z"
          />
        </svg>
        <div class="chat-title-text">局域网信息共享</div>
      </div>
      <div class="chat-wrapper"></div>
      <div class="toolbar">
        <div class="toolbar-left">
          <button class="toolbar-btn nickname-btn" title="设置昵称">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path
                fill="currentColor"
                d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"
              />
            </svg>
          </button>

          <button class="toolbar-btn file-btn" title="发送文件">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path
                fill="currentColor"
                d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"
              />
            </svg>
          </button>
        </div>
        <div class="toolbar-right">
          <button
            class="toolbar-btn toggle-users-btn mobile-only"
            title="切换在线用户列表"
          >
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path
                fill="currentColor"
                d="M16,13C15.71,13 15.38,13 15.03,13.05C16.19,13.89 17,15 17,16.5V19H23V16.5C23,14.17 18.33,13 16,13M8,13C5.67,13 1,14.17 1,16.5V19H15V16.5C15,14.17 10.33,13 8,13M8,11A3,3 0 0,0 11,8A3,3 0 0,0 8,5A3,3 0 0,0 5,8A3,3 0 0,0 8,11M16,11A3,3 0 0,0 19,8A3,3 0 0,0 16,5A3,3 0 0,0 13,8A3,3 0 0,0 16,11Z"
              />
            </svg>
          </button>
          <button
            class="toolbar-btn send-btn"
            title="发送消息"
            onclick="sendMessageButton()"
          >
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path
                fill="currentColor"
                d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"
              />
            </svg>
          </button>
        </div>
      </div>
      <textarea
        id="messageInput"
        class="txt-msg"
        onkeydown="enterTxt(event)"
      ></textarea>
    </div>
    <div class="right">
      <div class="user-title">
        <svg height="30px" viewBox="0 -960 960 960" width="30px" fill="#CCCCCC">
          <path
            fill="currentColor"
            d="M40-160v-112q0-34 17.5-62.5T104-378q62-31 126-46.5T360-440q66 0 130 15.5T616-378q29 15 46.5 43.5T680-272v112H40Zm720 0v-120q0-44-24.5-84.5T666-434q51 6 96 20.5t84 35.5q36 20 55 44.5t19 53.5v120H760ZM360-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47Zm400-160q0 66-47 113t-113 47q-11 0-28-2.5t-28-5.5q27-32 41.5-71t14.5-81q0-42-14.5-81T544-792q14-5 28-6.5t28-1.5q66 0 113 47t47 113ZM120-240h480v-32q0-11-5.5-20T580-306q-54-27-109-40.5T360-360q-56 0-111 13.5T140-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T440-640q0-33-23.5-56.5T360-720q-33 0-56.5 23.5T280-640q0 33 23.5 56.5T360-560Zm0 320Zm0-400Z"
          />
        </svg>
        <div class="user-title-text">用户列表</div>
      </div>

      <ul id="users"></ul>
    </div>

    <div class="mobile-overlay"></div>

    <div class="modal" id="nicknameModal">
      <div class="modal-content">
        <h3>设置昵称</h3>
        <div class="nickname-input-container">
          <input
            type="text"
            id="nicknameInput"
            maxlength="10"
            placeholder="请输入昵称（最多10个字符）"
          />
        </div>
        <div class="modal-footer">
          <button onclick="closeNicknameModal()">取消</button>
          <button onclick="saveNickname()">保存</button>
        </div>
      </div>
    </div>

    <div class="modal" id="passwordModal">
      <div class="modal-content">
        <h3>请输入房间密码</h3>
        <div class="nickname-input-container">
          <input
            type="password"
            id="roomPasswordInput"
            placeholder="请输入密码"
            autocomplete="off"
            name="password_fake"
          />
        </div>
        <div class="modal-footer">
          <button onclick="submitRoomPassword()">确认</button>
        </div>
      </div>
    </div>

    <!--  -->
  </body>
</html>
